# 第十一章 如何设计一个基于PoS共识的项目
基于PoS共识搭建去中心化项目，目前最简单的方式就是基于现在跨链项目直接搭建。开发成本较低的情况下，选择Cosmos的SDK或者Polkadot的Substrate，这两个项目都可以支持你快速搭建一条具有PoS共识的侧链。另外一种，可以直接Fork石墨烯的底层，搭建和EOS一样的DPoS共识。这两种方案前者较为简单，后者稍微复杂，而且SDK的方案可能都不需要你理解源代码，就可以快速搭建出来一条侧链。你要关心的只有选择SDK中哪些模块，或者抛弃哪些模块。

但是基于SDK PoS共识引引擎搭建的项目，同样离不开PoS上那些独有的问题，代币分发，经济激励，社区培养等等，这些问题和共识有交集，但属于共识设计的外围。我觉得成功的设计一定离不开整体设计，而项目中的共识设计，也只是其中一个核心部分，而想让项目成功发展壮大，还需要依赖于项目的整体发展。

如何更好的实现整体发展，在去中心化世界里，和我们的认知是有偏差的。我们都知道去中心化共识没有所谓的中心，初始的开发团队也只是承担了项目主网启动的作用，主网启动后，他们和我们一样，也只是持币人。只不过，他们的持币量要比我们普通人大很多，那么他们为了提高他们自己手里代币的价值，肯定会更努力开发推进这个项目。个人不太看好英雄主义在区块链世界存在，项目的发展，应该依赖于社区对于整个项目后期的推进，这才是项目增长最大的助力。

下面我说一下搭建一个PoS共识项目所最应该关注的几个部分

**PoS共识**

PoS共识发展到现在，有很多项目都进行过优化，有LPoS，BPoS，Ouroboros等，这些其实都是传统PoS共识的变种。选用开源共识进行修改会是一件省时省力，且有足够安全背书的选择，如果你自己要从零开始设计一个PoS共识，需要有极其严格的安全证明，来保证可用性和安全性，这对于一个没有科研背景的团队来说，其难度可想而知。

新的PoS共识出来，需要经过多轮的测试，并需要足够安全的审计。从Cosmos上举行的测试网比赛上看，大范围公测使得Tendermint共识暴露很多Bug，从GoS1一直更新到了GoS6，中间还经历了一次硬分叉，还是有新的问题不断产生。除了bug，整个共识更新，中间协调所有验证人也很麻烦，有时差问题，有地域问题，还有认识层面的问题，导致测试网的进展比较缓慢，也没能达到大家的预期。

另外，共识这种与密码学相关的科学，无法在短时间内被证明安全有效，最好是基于已有方案进行改造和优化，从零开始设计一个PoS共识所需要的时间，可能比你设计整个项目的时间还要长，致力于发展应用生态的项目，花大量时间在设计新的共识，很可能会被拖死。所以现阶段设计一个好的PoS共识，最好还是基于现有共识来做优化。

**初始代币分发**

本书用很多篇幅讲了PoS初期的代币分发，其重要性不言而喻。对于比较良心的团队来说，将代币更好的分发是一种去中心化的精神，这种精神可以一直追溯到区块链的源头，即中本聪创建的第一个区块链应用比特币，BTC没有预挖，没有预留，代币靠提供算力获得，这种模式在PoS里面并不能得以延续，但是在一些项目上，这种精神是留了下来了。至于留下来的精神是否能被很好的运用，很大程度上依赖于项目方对于代币分发的认知和良知。认知决定了手段，良知决定了分发数量。

从目前使用的分发手段来看，有资助，有捐赠，有ICO，有私募，有IFO，有IEO，STO发展到现在已经趋向于发展成了股权+Token，资助和捐赠是过渡，ICO曾经是比较比较风靡的融资手段，但是由于ICO在个别国家有限制，所以这种流行的融资手段，在目前看来已经比较难以执行了，有法律风险。

2018年很多开发团队转向了私募，私募其实就是关起门来做生意，但是这种将币卖给少数人的手段意味着代币分发集中化，大量资金的集中购买让项目方在管理二级市场买卖的时候步履维艰。但是初始团队为了能获得足够多的投资，免不了降低身价售卖出大量的初始Token，这些Token可能会被购买人运用到市场上做价格操纵，或是是成为主导整个系统发展的大户，无论哪种，对生态发展都不健康。

2019年监管趋严，很多私募放发现也挣不到钱，所以投资偏向转而趋向于股权+Token的方式，这种方式能保证其在一定的监管规范下，又能以一样的股权比例获得token数量，这种方式是健康了很多，但是仍然无法解决token集中化问题。

有能力的团队应该以技术为主导，需要在技术上或者是应用落地上下功夫，两点中，只要团队是任何一个方面形成市场热度，那么这种热度对于影响代币分发是有效的。因为这属于团队的融资谈资，这种谈资能很好主导投资者，使得团队有充足的话语权来掌控融资额度的分配。但是市场热度这种东西可遇可不求，很多技术团队并没有充足的市场预算，或者根本没有做市场的能力，单纯出去说技术，懂的人少之可怜，想宣传起来真的是很难的。

所以，私募这种方式我一直不认为是一种很好的代币分发方式，ICO才是。用Token就能参与的ICO可以让人们无条件，无门槛，无地域限制，无时间限制的参加，可以最大化的平衡代币分布，但ICO这种自由度让监管者无法适从，很多监管者直接将ICO定义成非法融资的手段，而对之采用了最极端的监管手段：一刀切。这一刀切也切断了很多不是冲着非法集资，想正常发展项目的融资手段。

后来出现了IFO（分叉分配），IEO（交易所分配）等新的模式，但这些模式有一定程度的创新，但都没能延续很长时间，IFO依赖于被分叉币的使用人数，IEO和ICO类似，属于强监管范畴，但两者都算是一种新的尝试。

到现在，我没有看到更好的代币分配方案，也许因为人为融资因素加入进来了，导致这个分配变了味，我把PoS中的融资等同于PoW中的预挖，只要是预挖，这就已经不符合中本聪的去中心化精神了。当然，加入了融资因素的方案，其最好的代币分配方案只能是ICO，但是ICO也被人用坏了。我个人还是希望能用更合理的方案出来的，也许，它在不远的将来，而现在，如果项目方想要更好的分配，我想最首要要考虑的一点就是：放弃自身利益。

**经济激励**

经济激励对于一个去中心化的项目来说，相当于一种长期的治理措施。这种措施可以理解为国家的治理政策，只不过国家是根据当前形势作出判断，（如不同时期，国家出台的不同的货币政策）而去中心化的项目需要提前制定比较合理的，并且有高度适应性和调节性的逻辑，来满足未来5年，10年，甚至是上百年的发展。

现有的区块链项目都上线了线上治理功能，希望社区能及时通过治理调整策略，来指导当前发展，本质上和大国政策类似，只不过权利发生了转移。不过无论是提前制定还是实时的线上治理，本质上来说都是后置于现实的，这要求制定者在初期，就应该有一个全面的权衡。这个下面要讲的第6点：可持续发展有相关关系。

去中心化项目的经济激励分为以下几个阶段：

- **网络启动**

网络启动阶段，经济激励主要用于激励人们参与网络的维护中来，也就是吸引人们来当节点。在这个去中心化的世界当中，越多节点参与的网络被认为越具有去中心化精神，同时也在一定程度上代表了项目的热度情况。

作为节点参与到网络中，需要付出服务器成本，每个网络对于网络的要求都不相同，自然对节点服务器配置也不相同。Tezos的创始人Authur B认为，初始的奖励必须足够大，才足以吸引到足够多的人来充当节点，维护网络安全。

PoS当中一般会以通胀的形式来作为激励池，这个池子的通胀率在初始的时候可以设置比较高，依据代币总量来算，设置在5%~10%范围的项目居多。而在网络稳定后，将通胀缩减到1%是一些项目提出来的通胀解决方案。

如果初始的激励吸引不够大，那么出现网络启动不起来，项目热度会被影响，这是大多数项目所不希望看到的。所以我认为设置阶梯型的通胀方式，会对网络启动有一定的帮助。

- **网络运行**

网络启动后，会进入到日常的网络运行阶段，运行阶段的奖励如果能随着系统功能开发完善，而多出来更多奖励，则对系统的安全运行有较大的帮助。

奖励激励如果长时间一成不变，很容易让人联想到死工资这个概念，死工资带来的结果就是失去活力，不积极不上进，你看那些以底薪为工资，提成为主要收入的工作者，天天想打了鸡血一样的。

目前看到这种激励设计比较少，要有，也是针对一些工程提案的。就是开发团队提出修改bug，优化系统的提案，如果被投票通过，那么系统会支付开发者工资，用开发者执行提案。这种激励只能覆盖少部分人，对于长期维护节点的矿工来说，其实很小。

另外，在加密货币还不能成为真正的世界货币的时候，很多矿工其实需要承担的是成本和收入并不匹配的结果。这个问题很严重，因为并不是所有人都能对这个长期亏损状态不作出改变的。矿工收到的激励是币，但币价不能被支付到服务器的成本上，而换成法币之后，成本并不能被覆盖，久而久之，越来越多的节点会退出这个网络。

一旦这种情况发展，网络会形成一个死循环，矿工变少，网络被攻击成本下降，引起币价下降，更多矿工因为不能覆盖成本而继续离开。

- **网络升级**

一个网络如果要继续发展的更好，除了日常的网络维护，还有不断优化网络，升级网络。吸收百家之所长，才能让项目保持足够的竞争力。那去中心化的社区由谁来对网络进行升级呢？

自然，没有激励是不行的，因为没有那么多志愿者能站出来做升级，而且作为一个长期的事情，志愿帮助的动力是极其薄弱的，激励成了提供动力的方式之一。

现在设计的系统中，会有激励池子来奖励那些对系统提出优化方案并被采纳的人，这种池子有的是由基金会主导，有的是以投票决定，只要你想优化整个系统，你就可以提出优化方案，方案一旦通过，你就可以获得资助。

这3个部分都和经济模型强相关，只有运转良好，激励合理的项目能让整个项目保持从启动，运行，到升级拥有强竞争力。而经济模型中，对每个行为奖励的多少，需要有一个合理的设定，太多了会造成恐怖通胀，太少了不足以覆盖成本，所以，奖励和奖励多少是门学问。

**去中心化模型**

去中心化是独立于性能和安全以外，另外一个重要的话题，这个话题的关键在于，去中心化程度是不可逆的。不可逆意味着，只要项目形成了中心化，再想让整个项目变得去中心化，基本是不可能的，这就好比你想剥夺一个已经富有的人的财富一样。

我一直强调的一个点是，去中心化的定义是指任何人可以随意进出参与网络的共识。

也就意味着，一旦你在网络启动之初将参与网络共识的门槛设置的足够高之后，那么去中心化是一定有影响的，而且在这之后，你再想将门槛下调，可能已经进入的参与人就不是很好说服了，另外，后入者根本也没有那么大的利益空间可以供其生长了。

所以，性能，安全都是可逆的，唯独去中心化是不可逆的。在设计之初，一定需要考虑好节点的门槛问题，我不建议一点门槛都没有，起码在PoS上，持币是最低的门槛。硬件要求上，放宽对性能的要求是去中心化的一种体现，但是也需要考虑好，你是否有别的技术方案让比较低配置的机器也能支持高交互性的性能。

Tezos目前的去中心化方案是可见到，我认为Tezos算是比较成功的去中心化项目。这种成功体现在于：后来者如果想参与网络公示，是较为简单，且成本较低的。这也带来的一个问题，就是Tezos的性能是不太理想的，只有40左右的TPS，这是为人诟病的，但是Tezos有比较成熟的技术可以用于提高性能，解决性能瓶颈问题。

**治理方案**

在经历多BTC多次的社区分裂事件后，PoS项目大都都把链上治理当成了比较标配的功能。但是仅仅是把现实中的投票引入到区块链上来，是远远不够的。因为现实中的投票本来就有很多问题，动力不足，参与度不够，群投结果中庸等等，这些都是阻碍现实发展的一些问题。

区块链项目加入投票系统后，大都做了改良，如Tezos的升级投票治理，Cardano的流动性民主，Dfinity的AI大脑等等，都是将投票这套方案做了改良，增加了代理性投票，专家声称，结果奖励的方案，这些功能都直接或者间接的解决了上述投票问题。

在设计全新的投票架构前，你也需要好好考虑一下这些问题，提出属于自己的解决方案，并结合PoS中代币权利的使用，才能给出较为合理的治理方案。

**可持续发展**

很多项目现在并没有考虑如何让一个网络运行5年，甚至是10年。但是我觉得一个好的项目需要考虑长久，资金，治理，升级，这是一个项目可持续发展的重要3个方向。

可持续资金决定了项目是否可以靠社区存活下去，治理决定了项目是否能让社区保持一致的初心，升级决定了项目是否拥有足够长久的竞争力。这些要素结合在一起，就是让一个项目活下去长久的基石。

所以可持续发展是设计一个基于PoS项目的综合指标，只要当你站在整个设计外层看的时候，我们才可以考虑到一个大而全的可持续发展战略。
